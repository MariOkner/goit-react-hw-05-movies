{"version":3,"file":"static/js/287.2c7ba273.chunk.js","mappings":"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","sources":["components/MoviesDetailsComponents/Reviews.styled.js","components/MoviesDetailsComponents/Reviews.jsx","helpers.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ErrorHTML = styled.h3`\n  text-align: center;\n`;\n\nexport const SectionHTML = styled.div`\n  padding-left: 20px;\n`;\n\nexport const TitleHTML = styled.h2`\n  padding-bottom: 10px;\n`;\n\nexport const TextHTML = styled.p`\n  padding-bottom: 25px;\n`;\n","import helpers from 'helpers';\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { ErrorHTML, SectionHTML, TitleHTML, TextHTML } from './Reviews.styled';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState(null);\n  const [error, setError] = useState(null);\n  const { id } = useParams();\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    fetchReviews(id);\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  const fetchReviews = async (id, abortSignal) => {\n    try {\n      const reviews = await helpers.fetchReviews(id, abortSignal);\n      setReviews(reviews);\n\n      setError(null);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return reviews && reviews.length > 0 ? (\n    <SectionHTML>\n      {error && <ErrorHTML>{error}</ErrorHTML>}\n      {reviews.map(({ id, author, content }) => (\n        <div key={id}>\n          <TitleHTML>Author: {author}</TitleHTML>\n          <TextHTML>{content}</TextHTML>\n        </div>\n      ))}\n    </SectionHTML>\n  ) : (\n    \"We don't have any reviews for this movie.\"\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst MOVIES_BASE_URL = 'https://api.themoviedb.org/3';\nconst MOVIES_KEY = '99c2fb450b803b86448378b118c18b64';\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p';\nconst MOVIE_IMG_SIZE = 'w342';\nconst CAST_IMG_SIZE = 'w154';\n\nconst fetchTrending = async abortSignal => {\n  const urlTrending = `${MOVIES_BASE_URL}/trending/movie/day?api_key=${MOVIES_KEY}`;\n\n  try {\n    const response = await axios.get(urlTrending, {\n      signal: abortSignal,\n    });\n\n    return response.data.results.map(({ id, title, poster_path }) => {\n      return {\n        id: id,\n        title: title,\n        posterURL: poster_path\n          ? `${IMG_BASE_URL}/${MOVIE_IMG_SIZE}${poster_path}`\n          : null,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchMovies = async (query, abortSignal) => {\n  const urlMovies = `${MOVIES_BASE_URL}/search/movie?api_key=${MOVIES_KEY}&query=${query}&include_adult=true`;\n\n  try {\n    const response = await axios.get(urlMovies, {\n      signal: abortSignal,\n    });\n\n    return response.data.results.map(({ id, title, poster_path }) => {\n      return {\n        id: id,\n        title: title,\n        posterURL: poster_path\n          ? `${IMG_BASE_URL}/${MOVIE_IMG_SIZE}${poster_path}`\n          : null,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchDetails = async (id, abortSignal) => {\n  const urlDetails = `${MOVIES_BASE_URL}/movie/${id}?api_key=${MOVIES_KEY}&language=en-US`;\n\n  try {\n    const response = await axios.get(urlDetails, {\n      signal: abortSignal,\n    });\n\n    const { poster_path, original_title, vote_average, overview, genres } =\n      response.data;\n\n    return {\n      posterURL: poster_path\n        ? `${IMG_BASE_URL}/${MOVIE_IMG_SIZE}${poster_path}`\n        : null,\n      title: original_title,\n      userScore: vote_average * 10,\n      overview: overview,\n      genres: genres,\n    };\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchCast = async (id, abortSignal) => {\n  const urlCast = `${MOVIES_BASE_URL}/movie/${id}/credits?api_key=${MOVIES_KEY}&language=en-US`;\n  try {\n    const response = await axios.get(urlCast, {\n      signal: abortSignal,\n    });\n\n    return response.data.cast.map(({ id, name, character, profile_path }) => {\n      return {\n        id: id,\n        name: name,\n        character: character,\n        profileURL: profile_path\n          ? `${IMG_BASE_URL}/${CAST_IMG_SIZE}${profile_path}`\n          : null,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchReviews = async (id, abortSignal) => {\n  const urlReviews = `${MOVIES_BASE_URL}/movie/${id}/reviews?api_key=${MOVIES_KEY}&language=en-US`;\n\n  try {\n    const response = await axios.get(urlReviews, {\n      signal: abortSignal,\n    });\n\n    return response.data.results.map(({ id, author, content }) => {\n      return {\n        id: id,\n        author: author,\n        content: content,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst helpers = {\n  fetchTrending,\n  fetchMovies,\n  fetchDetails,\n  fetchCast,\n  fetchReviews,\n};\nexport default helpers;\n\n// https://image.tmdb.org/t/p/w154null\n// https://image.tmdb.org/t/p/w154/m2lUTpivduEiRwyPIrdg8hcI8zq.jpg\"\n"],"names":["ErrorHTML","styled","SectionHTML","TitleHTML","TextHTML","useState","reviews","setReviews","error","setError","id","useParams","useEffect","abortController","AbortController","fetchReviews","abort","abortSignal","helpers","message","length","map","author","content","MOVIES_BASE_URL","MOVIES_KEY","IMG_BASE_URL","MOVIE_IMG_SIZE","fetchTrending","urlTrending","axios","signal","response","data","results","title","poster_path","posterURL","Error","fetchMovies","query","urlMovies","fetchDetails","urlDetails","original_title","vote_average","overview","genres","userScore","fetchCast","urlCast","cast","name","character","profile_path","profileURL","urlReviews"],"sourceRoot":""}