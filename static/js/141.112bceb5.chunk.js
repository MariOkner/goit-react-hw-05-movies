"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[141],{141:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r,a,c,o,u=n(861),i=n(885),s=n(757),p=n.n(s),l=n(112),f=n(791),h=n(689),v=n(77),d=n(168),g=n(444),m=g.ZP.h3(r||(r=(0,d.Z)(["\n  text-align: center;\n"]))),w=g.ZP.ul(a||(a=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 180px);\n  gap: 10px;\n"]))),x=g.ZP.li(c||(c=(0,d.Z)(["\n  list-style-type: none;\n"]))),k=g.ZP.h2(o||(o=(0,d.Z)(["\n  padding-bottom: 6px;\n  font-size: 18px;\n  text-decoration: none;\n"]))),Z=n(184),b=function(){var t=(0,f.useState)(null),e=(0,i.Z)(t,2),n=e[0],r=e[1],a=(0,f.useState)(null),c=(0,i.Z)(a,2),o=c[0],s=c[1],d=(0,h.UO)().id;(0,f.useEffect)((function(){var t=new AbortController;return g(d,t.signal),function(){t.abort()}}),[d]);var g=function(){var t=(0,u.Z)(p().mark((function t(e,n){var a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.Z.fetchCast(e,n);case 3:a=t.sent,r(a),s(null),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}();return n&&n.length>0?(0,Z.jsxs)("section",{children:[o&&(0,Z.jsx)(m,{children:o}),(0,Z.jsx)(w,{children:n.map((function(t){var e=t.id,n=t.name,r=t.character,a=t.profileURL;return(0,Z.jsxs)(x,{children:[(0,Z.jsx)("img",{src:a||v,alt:""}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(k,{children:n}),(0,Z.jsx)("p",{children:r})]})]},e)}))})]}):"We don't have informations"}},112:function(t,e,n){var r=n(861),a=n(757),c=n.n(a),o=n(44),u="https://api.themoviedb.org/3",i="99c2fb450b803b86448378b118c18b64",s="https://image.tmdb.org/t/p",p="w342",l=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(u,"/trending/movie/day?api_key=").concat(i),t.prev=1,t.next=4,o.ZP.get(n,{signal:e});case 4:return r=t.sent,t.abrupt("return",r.data.results.map((function(t){var e=t.id,n=t.title,r=t.poster_path;return{id:e,title:n,posterURL:r?"".concat(s,"/").concat(p).concat(r):null}})));case 8:throw t.prev=8,t.t0=t.catch(1),new Error("Backend error");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(e,n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(u,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&include_adult=true"),t.prev=1,t.next=4,o.ZP.get(r,{signal:n});case 4:return a=t.sent,t.abrupt("return",a.data.results.map((function(t){var e=t.id,n=t.title,r=t.poster_path;return{id:e,title:n,posterURL:r?"".concat(s,"/").concat(p).concat(r):null}})));case 8:throw t.prev=8,t.t0=t.catch(1),new Error("Backend error");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(c().mark((function t(e,n){var r,a,l,f,h,v,d,g;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(u,"/movie/").concat(e,"?api_key=").concat(i,"&language=en-US"),t.prev=1,t.next=4,o.ZP.get(r,{signal:n});case 4:return a=t.sent,l=a.data,f=l.poster_path,h=l.original_title,v=l.vote_average,d=l.overview,g=l.genres,t.abrupt("return",{posterURL:f?"".concat(s,"/").concat(p).concat(f):null,title:h,userScore:10*v,overview:d,genres:g});case 9:throw t.prev=9,t.t0=t.catch(1),new Error("Backend error");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(c().mark((function t(e,n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(u,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US"),t.prev=1,t.next=4,o.ZP.get(r,{signal:n});case 4:return a=t.sent,t.abrupt("return",a.data.cast.map((function(t){var e=t.id,n=t.name,r=t.character,a=t.profile_path;return{id:e,name:n,character:r,profileURL:a?"".concat(s,"/").concat("w154").concat(a):null}})));case 8:throw t.prev=8,t.t0=t.catch(1),new Error("Backend error");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(c().mark((function t(e,n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(u,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US"),t.prev=1,t.next=4,o.ZP.get(r,{signal:n});case 4:return a=t.sent,t.abrupt("return",a.data.results.map((function(t){return{id:t.id,author:t.author,content:t.content}})));case 8:throw t.prev=8,t.t0=t.catch(1),new Error("Backend error");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),g={fetchTrending:l,fetchMovies:f,fetchDetails:h,fetchCast:v,fetchReviews:d};e.Z=g},77:function(t,e,n){t.exports=n.p+"static/media/NO.2424f928ce09f58828b0.jpg"}}]);
//# sourceMappingURL=141.112bceb5.chunk.js.map