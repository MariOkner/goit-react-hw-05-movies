"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[294],{112:function(n,e,t){var r=t(861),a=t(757),c=t.n(a),o=t(44),i="https://api.themoviedb.org/3",u="99c2fb450b803b86448378b118c18b64",s="https://image.tmdb.org/t/p",p="w342",l=function(){var n=(0,r.Z)(c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(i,"/trending/movie/day?api_key=").concat(u),n.prev=1,n.next=4,o.ZP.get(t,{signal:e});case 4:return r=n.sent,n.abrupt("return",r.data.results.map((function(n){var e=n.id,t=n.title,r=n.poster_path;return{id:e,title:t,posterURL:r?"".concat(s,"/").concat(p).concat(r):null}})));case 8:throw n.prev=8,n.t0=n.catch(1),new Error("Backend error");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(c().mark((function n(e,t){var r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(i,"/search/movie?api_key=").concat(u,"&query=").concat(e,"&include_adult=true"),n.prev=1,n.next=4,o.ZP.get(r,{signal:t});case 4:return a=n.sent,n.abrupt("return",a.data.results.map((function(n){var e=n.id,t=n.title,r=n.poster_path;return{id:e,title:t,posterURL:r?"".concat(s,"/").concat(p).concat(r):null}})));case 8:throw n.prev=8,n.t0=n.catch(1),new Error("Backend error");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(c().mark((function n(e,t){var r,a,l,h,f,d,v,x;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(i,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US"),n.prev=1,n.next=4,o.ZP.get(r,{signal:t});case 4:return a=n.sent,l=a.data,h=l.poster_path,f=l.original_title,d=l.vote_average,v=l.overview,x=l.genres,n.abrupt("return",{posterURL:h?"".concat(s,"/").concat(p).concat(h):null,title:f,userScore:10*d,overview:v,genres:x});case 9:throw n.prev=9,n.t0=n.catch(1),new Error("Backend error");case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(c().mark((function n(e,t){var r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"),n.prev=1,n.next=4,o.ZP.get(r,{signal:t});case 4:return a=n.sent,n.abrupt("return",a.data.cast.map((function(n){var e=n.id,t=n.name,r=n.character,a=n.profile_path;return{id:e,name:t,character:r,profileURL:a?"".concat(s,"/").concat("w154").concat(a):null}})));case 8:throw n.prev=8,n.t0=n.catch(1),new Error("Backend error");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}(),v=function(){var n=(0,r.Z)(c().mark((function n(e,t){var r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US"),n.prev=1,n.next=4,o.ZP.get(r,{signal:t});case 4:return a=n.sent,n.abrupt("return",a.data.results.map((function(n){return{id:n.id,author:n.author,content:n.content}})));case 8:throw n.prev=8,n.t0=n.catch(1),new Error("Backend error");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}(),x={fetchTrending:l,fetchMovies:h,fetchDetails:f,fetchCast:d,fetchReviews:v};e.Z=x},294:function(n,e,t){t.r(e),t.d(e,{default:function(){return A}});var r,a,c,o,i,u,s,p,l,h,f=t(861),d=t(885),v=t(757),x=t.n(v),g=t(112),m=t(791),w=t(731),Z=t(689),b=t(536),k=t(168),y=t(444),_=y.ZP.ul(r||(r=(0,k.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, auto));\n  grid-gap: 15px;\n\n  padding: 0;\n\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),j=y.ZP.li(a||(a=(0,k.Z)(["\n  /* width: 100%; */\n  /* height: 569px; */\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]))),P=(0,y.ZP)(w.OL)(c||(c=(0,k.Z)(["\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  align-items: center;\n\n  color: #000000;\n  text-decoration: none;\n\n  :hover {\n    color: orangered;\n  }\n"]))),C=y.ZP.img(o||(o=(0,k.Z)(["\n  width: 100%;\n  /* height: 100%; */\n  object-fit: cover;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),U=y.ZP.h3(i||(i=(0,k.Z)(["\n  padding: 10px;\n  font-size: 16px;\n  white-space: normal;\n\n  text-transform: uppercase;\n"]))),E=t(184),S=function(n){var e=n.movies,t=(0,Z.TH)();return(0,E.jsx)("div",{children:(0,E.jsx)(_,{children:e.map((function(n){var e=n.id,r=n.title,a=n.posterURL;return(0,E.jsx)(j,{children:(0,E.jsxs)(P,{to:"".concat(e),state:{from:t},children:[(0,E.jsx)(C,{src:a||b,alt:""}),(0,E.jsx)(U,{children:r})]})},e)}))})})},L=t(128),R=y.ZP.div(u||(u=(0,k.Z)(["\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin: 16px 10px 16px 0;\n"]))),q=y.ZP.h3(s||(s=(0,k.Z)(["\n  margin-right: 10px;\n  color: orangered;\n  text-transform: uppercase;\n"]))),B=y.ZP.input(p||(p=(0,k.Z)(["\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  font: inherit;\n"]))),M=(0,y.ZP)(L.G4C)(l||(l=(0,k.Z)(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 6px;\n"]))),T=function(n){var e=n.query,t=n.onChange;return(0,E.jsxs)(R,{children:[(0,E.jsx)(q,{children:" Search field "}),(0,E.jsx)(M,{}),(0,E.jsx)(B,{type:"text",value:e,onChange:function(n){return t(n.target.value)}})]})},z=y.ZP.h3(h||(h=(0,k.Z)(["\n  text-align: center;\n"]))),A=function(){var n,e=(0,m.useState)([]),t=(0,d.Z)(e,2),r=t[0],a=t[1],c=(0,m.useState)(null),o=(0,d.Z)(c,2),i=o[0],u=o[1],s=(0,w.lr)(),p=(0,d.Z)(s,2),l=p[0],h=p[1],v=null!==(n=l.get("query"))&&void 0!==n?n:"";(0,m.useEffect)((function(){var n=new AbortController;if(v)return Z(v,n.signal),function(){n.abort()}}),[v]);var Z=function(){var n=(0,f.Z)(x().mark((function n(e,t){var r;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.fetchMovies(e,t);case 3:if((r=n.sent).length){n.next=6;break}throw new Error("No movies");case 6:a(r),u(null),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),u(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}();return(0,E.jsxs)("section",{children:[(0,E.jsx)(T,{query:v,onChange:function(n){h(""!==n.trim()?{query:n}:{}),a([])}}),i?(0,E.jsx)(z,{children:i}):(0,E.jsx)(S,{movies:r})]})}},536:function(n,e,t){n.exports=t.p+"static/media/no_poster.e1c9f7d877f5eac85cc7.jpg"}}]);
//# sourceMappingURL=294.bdd6cf33.chunk.js.map