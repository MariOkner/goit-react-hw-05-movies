{"version":3,"file":"static/js/653.c1d7f70f.chunk.js","mappings":"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","sources":["helpers.js","components/MoviesDetailsComponents/BackLink.styled.js","components/MoviesDetailsComponents/BackLink.jsx","pages/MoviesDetails.styled.js","pages/MoviesDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst MOVIES_BASE_URL = 'https://api.themoviedb.org/3';\nconst MOVIES_KEY = '99c2fb450b803b86448378b118c18b64';\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p';\nconst MOVIE_IMG_SIZE = 'w342';\nconst CAST_IMG_SIZE = 'w154';\n\nconst fetchTrending = async abortSignal => {\n  const urlTrending = `${MOVIES_BASE_URL}/trending/movie/day?api_key=${MOVIES_KEY}`;\n\n  try {\n    const response = await axios.get(urlTrending, {\n      signal: abortSignal,\n    });\n\n    return response.data.results.map(({ id, title, poster_path }) => {\n      return {\n        id: id,\n        title: title,\n        posterURL: poster_path\n          ? `${IMG_BASE_URL}/${MOVIE_IMG_SIZE}${poster_path}`\n          : null,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchMovies = async (query, abortSignal) => {\n  const urlMovies = `${MOVIES_BASE_URL}/search/movie?api_key=${MOVIES_KEY}&query=${query}&include_adult=true`;\n\n  try {\n    const response = await axios.get(urlMovies, {\n      signal: abortSignal,\n    });\n\n    return response.data.results.map(({ id, title, poster_path }) => {\n      return {\n        id: id,\n        title: title,\n        posterURL: poster_path\n          ? `${IMG_BASE_URL}/${MOVIE_IMG_SIZE}${poster_path}`\n          : null,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchDetails = async (id, abortSignal) => {\n  const urlDetails = `${MOVIES_BASE_URL}/movie/${id}?api_key=${MOVIES_KEY}&language=en-US`;\n\n  try {\n    const response = await axios.get(urlDetails, {\n      signal: abortSignal,\n    });\n\n    const { poster_path, original_title, vote_average, overview, genres } =\n      response.data;\n\n    return {\n      posterURL: poster_path\n        ? `${IMG_BASE_URL}/${MOVIE_IMG_SIZE}${poster_path}`\n        : null,\n      title: original_title,\n      userScore: vote_average * 10,\n      overview: overview,\n      genres: genres,\n    };\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchCast = async (id, abortSignal) => {\n  const urlCast = `${MOVIES_BASE_URL}/movie/${id}/credits?api_key=${MOVIES_KEY}&language=en-US`;\n  try {\n    const response = await axios.get(urlCast, {\n      signal: abortSignal,\n    });\n\n    return response.data.cast.map(({ id, name, character, profile_path }) => {\n      return {\n        id: id,\n        name: name,\n        character: character,\n        profileURL: profile_path\n          ? `${IMG_BASE_URL}/${CAST_IMG_SIZE}${profile_path}`\n          : null,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst fetchReviews = async (id, abortSignal) => {\n  const urlReviews = `${MOVIES_BASE_URL}/movie/${id}/reviews?api_key=${MOVIES_KEY}&language=en-US`;\n\n  try {\n    const response = await axios.get(urlReviews, {\n      signal: abortSignal,\n    });\n\n    return response.data.results.map(({ id, author, content }) => {\n      return {\n        id: id,\n        author: author,\n        content: content,\n      };\n    });\n  } catch (error) {\n    throw new Error('Backend error');\n  }\n};\n\nconst helpers = {\n  fetchTrending,\n  fetchMovies,\n  fetchDetails,\n  fetchCast,\n  fetchReviews,\n};\nexport default helpers;\n\n// https://image.tmdb.org/t/p/w154null\n// https://image.tmdb.org/t/p/w154/m2lUTpivduEiRwyPIrdg8hcI8zq.jpg\"\n","import styled from 'styled-components';\nimport { HiArrowLeft } from 'react-icons/hi';\nimport { Link } from 'react-router-dom';\n\nexport const StyledLink = styled(Link)`\n  display: inline-flex;\n  /* align-items: center; */\n  /* gap: 4px; */\n  padding: 8px 20px;\n  color: red;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n`;\n\nexport const ButtonHTML = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  padding: 5px 22px;\n  border-radius: 4px;\n  border-bottom: 3px solid #525252;\n  color: #000000;\n  background-color: #ffd180;\n\n  font-size: 18px;\n  font-weight: 500;\n  align-items: center;\n  text-align: center;\n  /* cursor: pointer; */\n\n  :hover {\n    transition: 0.7s;\n    color: orangered;\n    background-color: #ffffff;\n  }\n`;\n\nexport const Icon = styled(HiArrowLeft)`\n  width: 24px;\n  height: 24px;\n  padding-right: 5px;\n`;\n","import { StyledLink, ButtonHTML, Icon } from './BackLink.styled';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <ButtonHTML>\n        <Icon />\n        {children}\n      </ButtonHTML>\n    </StyledLink>\n  );\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const ErrorHTML = styled.h3`\n  text-align: center;\n`;\n\nexport const DetailsCartHTML = styled.div`\n  display: flex;\n  padding: 20px;\n`;\n\nexport const DetailsContentHTML = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  margin-left: 20px;\n`;\n\nexport const DetailsTitleHTML = styled.h3`\n  font-size: 27px;\n`;\n\nexport const DetailsTextHTML = styled.b`\n  font-size: 20px;\n`;\n\nexport const OverviewTextHTML = styled.p`\n  margin-bottom: 50px;\n  line-height: 1.5;\n`;\n\nexport const InfoListHTML = styled.ul`\n  border-top: 2px solid black;\n  border-bottom: 2px solid black;\n  /* text-decoration: none; */\n  /* font-size: 20px; */\n`;\n\nexport const InfoTitleHTML = styled.h3`\n  padding: 20px 0;\n`;\n\nexport const ItemHTML = styled.li`\n  padding-bottom: 10px;\n`;\n\nexport const Link = styled(NavLink)`\n  color: #004ff9;\n  text-decoration: none;\n\n  :hover {\n    color: orangered;\n  }\n`;\n","import helpers from 'helpers';\nimport { Suspense } from 'react';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { BackLink } from '../components/MoviesDetailsComponents/BackLink';\nimport { Outlet } from 'react-router-dom';\nimport NoPoster from '../images/no_poster.jpg';\n\nimport {\n  ErrorHTML,\n  DetailsCartHTML,\n  DetailsContentHTML,\n  DetailsTitleHTML,\n  DetailsTextHTML,\n  OverviewTextHTML,\n  InfoListHTML,\n  Link,\n  InfoTitleHTML,\n  ItemHTML,\n} from './MoviesDetails.styled';\n\nconst MoviesDetails = () => {\n  const [details, setDetails] = useState(null);\n  const [error, setError] = useState(null);\n  const { id } = useParams();\n  const location = useLocation();\n  const backLinkHome = location.state?.from ?? '/';\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    fetchDetails(id, abortController.signal);\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  const fetchDetails = async (id, abortSignal) => {\n    try {\n      const details = await helpers.fetchDetails(id, abortSignal);\n      setDetails(details);\n\n      setError(null);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <section>\n      <BackLink to={backLinkHome}>Go back</BackLink>\n      {error && <ErrorHTML>{error}</ErrorHTML>}\n      {details && (\n        <DetailsCartHTML>\n          <>\n            <img src={details.posterURL || NoPoster} alt=\"\" />\n\n            <DetailsContentHTML>\n              <DetailsTitleHTML>{details.title}</DetailsTitleHTML>\n\n              <p>UserScore: {details.userScore.toFixed(2)}%</p>\n\n              <DetailsTextHTML>Overview</DetailsTextHTML>\n              <OverviewTextHTML>{details.overview}</OverviewTextHTML>\n\n              <DetailsTextHTML>Genres</DetailsTextHTML>\n              <p>{details.genres.map(genre => genre.name).join(', ')}</p>\n            </DetailsContentHTML>\n          </>\n        </DetailsCartHTML>\n      )}\n      <InfoListHTML>\n        <InfoTitleHTML>Additional information</InfoTitleHTML>\n        <ItemHTML>\n          <Link to=\"cast\" state={{ from: location.state?.from ?? '/' }}>\n            Cast\n          </Link>\n        </ItemHTML>\n        <ItemHTML>\n          <Link to=\"reviews\" state={{ from: location.state?.from ?? '/' }}>\n            Reviews\n          </Link>\n        </ItemHTML>\n      </InfoListHTML>\n      <Suspense fallback={null}>\n        <Outlet />\n      </Suspense>\n    </section>\n  );\n};\n\nexport default MoviesDetails;\n"],"names":["MOVIES_BASE_URL","MOVIES_KEY","IMG_BASE_URL","MOVIE_IMG_SIZE","fetchTrending","abortSignal","urlTrending","axios","signal","response","data","results","map","id","title","poster_path","posterURL","Error","fetchMovies","query","urlMovies","fetchDetails","urlDetails","original_title","vote_average","overview","genres","userScore","fetchCast","urlCast","cast","name","character","profile_path","profileURL","fetchReviews","urlReviews","author","content","helpers","StyledLink","styled","Link","ButtonHTML","Icon","HiArrowLeft","BackLink","to","children","ErrorHTML","DetailsCartHTML","DetailsContentHTML","DetailsTitleHTML","DetailsTextHTML","OverviewTextHTML","InfoListHTML","InfoTitleHTML","ItemHTML","NavLink","useState","details","setDetails","error","setError","useParams","location","useLocation","backLinkHome","state","from","useEffect","abortController","AbortController","abort","message","src","NoPoster","alt","toFixed","genre","join","Suspense","fallback"],"sourceRoot":""}